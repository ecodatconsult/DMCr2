file_path = "N:/Projekte/Forschungscluster_1768/02_Projektmodule/01_Kamerafallenthemen/Automatisierte Klassifizierung/Daten/Fuchsprojekt_Lino/Spring2017/Fotos/6506_20170322/04110088.JPG"
#check if GPU available
if(any(grep("NVIDIA",system("wmic path win32_VideoController get name", intern = TRUE))) == TRUE){
GPU <- TRUE
}else{
GPU <- FALSE
}
#spath to .bat file
bat_path <- system.file('data', package = 'DMCr')
bat_path <- sub("Program Files","PROGRA~1",bat_path)
system("cmd.exe", input = paste(bat_path,"/runMegaDetectorCPUsimple.bat ",file_path,sep = "")
)
system("cmd.exe", input = paste(bat_path,"/runMegaDetectorCPUsimple.bat ",file_path,sep = "")
)
system("cmd.exe", input = paste(bat_path,"/runMegaDetectorCPUsimple.bat ",file_path,sep = "")
)
system("cmd.exe", input = paste(bat_path,"/runMegaDetectorCPUsimple.bat ",file_path,sep = "")
)
system("cmd.exe", input = paste("'",bat_path,"/runMegaDetectorCPUsimple.bat ",file_path,"'",sep = "")
)
paste(bat_path,"/runMegaDetectorCPUsimple.bat ",file_path,sep = "")
system("cmd.exe", input = paste(bat_path,"/runMegaDetectorCPUsimple.bat '",file_path,"'",sep = "")
)
paste(bat_path,"/runMegaDetectorCPUsimple.bat '",file_path,"'",sep = "")
file_path = "N:/Projekte/Forschungscluster_1768/02_Projektmodule/01_Kamerafallenthemen/"Automatisierte Klassifizierung"/Daten/Fuchsprojekt_Lino/Spring2017/Fotos/6506_20170322/04110088.JPG"
file_path = "N:/Projekte/Forschungscluster_1768/02_Projektmodule/01_Kamerafallenthemen/'Automatisierte Klassifizierung'/Daten/Fuchsprojekt_Lino/Spring2017/Fotos/6506_20170322/04110088.JPG"
system("cmd.exe", input = paste(bat_path,"/runMegaDetectorCPUsimple.bat ",file_path,sep = "")
)
system("cmd.exe", input = paste(bat_path,"/runMegaDetectorCPUsimple.bat '",file_path,"'",sep = "")
)
R.version()
RVersions()
sessionInfo()
source(file_path)
file_path = "N:/Projekte/Forschungscluster_1768/02_Projektmodule/01_Kamerafallenthemen/Automatisierte Klassifizierung/Daten/Fuchsprojekt_Lino/Spring2017/Fotos/6506_20170322/04110088.JPG"
source(file_path)
file_path = "N:/Projekte/Forschungscluster_1768/02_Projektmodule/01_Kamerafallenthemen/Automatisierte-Klassifizierung/Daten/Fuchsprojekt_Lino/Spring2017/Fotos/6506_20170322/04110088.JPG"
source(file_path)
file_path = "N:/Projekte/Forschungscluster_1768/02_Projektmodule/01_Kamerafallenthemen/Automatisierte Klassifizierung/Daten/Fuchsprojekt_Lino/Spring2017/Fotos/6506_20170322/04110088.JPG"
source(file_path)
system("cmd.exe", input = paste(bat_path,"/runMegaDetectorCPUsimple.bat ",file_path,sep = "")
)
require(reticulate)
#check if GPU available
if(any(grep("NVIDIA",system("wmic path win32_VideoController get name", intern = TRUE))) == TRUE){
GPU <- TRUE
}else{
GPU <- FALSE
}
#CPU
if(GPU == FALSE){
#create environment if there is not the correct
if(all(conda_list()$name != "MegaDetector-CPU")){
conda_create(
envname = "MegaDetector-CPU"
,packages = c("tensorflow==1.13.1","pandas","pillow","humanfriendly","matplotlib","tqdm","jsonpickle","requests")
,forge = TRUE
,channel = character()
,conda = "auto"
,python_version = "3.6"
)
}
}
#GPU
if(GPU == TRUE){
#create environment if there is not the correct
if(all(conda_list()$name != "MegaDetector-GPU")){
conda_create(
conda_create(
envname = "MegaDetector-GPU"
,packages = c("tensorflow-gpu==1.13.1","pandas","pillow","humanfriendly","matplotlib","tqdm","jsonpickle","requests")
,forge = TRUE
,channel = character()
,conda = "auto"
,python_version = "3.6"
)
)
}
}
conda_create(
conda_create(
envname = "MegaDetector-GPU"
,packages = c("tensorflow-gpu==1.13.1","pandas","pillow","humanfriendly","matplotlib","tqdm","jsonpickle","requests")
,forge = TRUE
,channel = character()
,conda = "auto"
,python_version = "3.6"
)
)
#create environment if there is not the correct
if(all(conda_list()$name != "MegaDetector-GPU")){
conda_create(
conda_create(
envname = "MegaDetector-GPU"
,packages = c("tensorflow-gpu==1.13.1","pandas","pillow","humanfriendly","matplotlib","tqdm","jsonpickle","requests")
,forge = TRUE
,channel = character()
,conda = "auto"
,python_version = "3.6"
)
)
}
conda_create(
conda_create(
envname = "MegaDetector-GPU"
,packages = c("tensorflow-gpu==1.13.1","pandas","pillow","humanfriendly","matplotlib","tqdm","jsonpickle","requests")
,forge = TRUE
,channel = character()
,conda = "auto"
,python_version = "3.6"
)
)
conda_list()
file_path = "N:/Projekte/Forschungscluster_1768/02_Projektmodule/01_Kamerafallenthemen/AutomatisierteKlassifizierung/Daten/Fuchsprojekt_Lino/Summer2017"
#spath to .bat file
bat_path <- system.file('data', package = 'DMCr')
bat_path <- sub("Program Files","PROGRA~1",bat_path)
#check if GPU available
if(any(grep("NVIDIA",system("wmic path win32_VideoController get name", intern = TRUE))) == TRUE){
GPU <- TRUE
}else{
GPU <- FALSE
}
run = "batch"
system("cmd.exe", input = paste(bat_path,"/runMegaDetectorGPUbatch.bat \"",file_path,"\"",sep = "")
, wait = FALSE
, invisible = FALSE
)
system("C:\ProgramData\Anaconda3\Scripts\anaconda.exe", input = paste(bat_path,"/runMegaDetectorGPUbatch.bat \"",file_path,"\"",sep = "")
, wait = FALSE
, invisible = FALSE
)
system("C:/ProgramData/Anaconda3/Scripts/anaconda.exe", input = paste(bat_path,"/runMegaDetectorGPUbatch.bat \"",file_path,"\"",sep = "")
, wait = FALSE
, invisible = FALSE
)
